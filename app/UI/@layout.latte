<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">

	<title>{ifset title}{include title|stripHtml} | {/ifset}Nette Web</title>

	<script src="https://unpkg.com/nette-forms@3"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

	<style>
		/* Tu pridáš svoje CSS štýly */
		body {
			font-family: Arial, sans-serif;
			background-color: #f4f4f9;
			margin: 20px;
			padding: 20px;
		}

		.container {
			display: flex;
			flex-direction: column;  /* Vertikálne usporiadanie */
			align-items: center;  /* Centrovanie obsahu */
		}

		.back-link {
			margin-bottom: 20px;
			display: inline-block;
			text-decoration: none;
			background-color: #007BFF;
			color: white;
			padding: 10px 15px;
			border-radius: 5px;
			transition: background-color 0.3s ease;
		}

		.back-link:hover {
			background-color: #0056b3;
		}

		.animals {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
			gap: 20px;
			margin-top: 20px;
		}

		.animal-card {
			background-color: white;
			border-radius: 10px;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
			padding: 20px;
			text-align: center;
			transition: transform 0.2s ease, box-shadow 0.2s ease;
		}

		.animal-card a {
			text-decoration: none;
			color: #333;
			font-weight: bold;
		}

		.animal-card:hover {
			transform: translateY(-5px);
			box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
		}

		.animal-card a:hover {
			color: #007BFF;
		}

		.animal-image img {
			max-width: 100%; /* Zabezpečí, že obrázok nepresiahne šírku kontajnera */
			max-height: 150px; /* Nastav výšku, aby obrázok nebol príliš vysoký */
			object-fit: cover; /* Prispôsobí obrázok tak, aby sa zmestil do kontajnera bez deformácie */
			border-radius: 10px; /* Ak chceš zaobliť rohy obrázka */
		}

		.current-images {
			display: flex;
			gap: 10px;
			margin-bottom: 20px;
		}

		.image-wrapper img {
			border-radius: 5px;
			border: 1px solid #ccc;
		}

		/* Odsadenie medzi kartami a formulárom */
		#form {
			margin-top: 50px;  /* Pridaj väčší odsadenie nad formulárom */
		}

		.styled-form {
			background-color: #f9f9f9;
			padding: 20px;
			border-radius: 10px;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
			max-width: 600px;
			margin: auto;
		}

		.styled-form .form-control {
			width: 100%;
			padding: 10px;
			margin-bottom: 15px;
			border: 1px solid #ced4da;
			border-radius: 5px;
		}

		.styled-form label {
			font-weight: bold;
			margin-bottom: 5px;
			display: block;
		}

		.styled-form .btn {
			padding: 10px 20px;
			border: none;
			border-radius: 5px;
			cursor: pointer;
		}

		.styled-form .btn-primary {
			background-color: #007bff;
			color: white;
		}

		.styled-form .btn-primary:hover {
			background-color: #0056b3;
		}

		.form-container {
			margin-top: 20px;
			text-align: center;
		}

		.image-container {
			max-width: 600px; /* Nastavenie maximálnej šírky */
			margin: auto; /* Horizontálne centrovanie */
		}

		.hidden-checkbox {
			display: none;
		}

		.styled-select {
			width: 100%;  /* Zaberá celú šírku rodičovského kontajnera */
			padding: 10px;
			border-radius: 5px;  /* Zaoblené rohy */
			border: 1px solid #ced4da;
			background-color: white;
			font-size: 16px;
			color: #333;
			box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);  /* Jemný tieň */
			appearance: none;  /* Odstráni defaultný štýl prehliadača */
			-webkit-appearance: none;  /* Pre WebKit prehliadače */
			-moz-appearance: none;  /* Pre Mozilla prehliadače */
		}

		.styled-select:focus {
			outline: none;
			border-color: #007bff;  /* Zmena farby pri zaostrení */
			box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);  /* Zvýraznenie tieňa pri zaostrení */
		}

		.image-container {
			display: flex;
			flex-wrap: wrap;
			margin-top: 20px;
		}

		.image-container img {
			max-width: 150px;
			margin-right: 10px;
			margin-bottom: 10px;
			border: 1px solid #ccc;
			border-radius: 5px;
		}


	</style>

	<script>
		function loadAnimals(url) {
			$.ajax({
				url: url,
				type: 'GET',
				success: function (response) {
					if (response.status === 'success') {
						var animals = response.data;
						var animalContainer = $('.animals');
						animalContainer.empty();

						animals.forEach(function (animal) {
							var actionUrl = '/api/pet/' + animal.id;

							var animalHTML = '<div class="animal-card">' +
									'<a href="#" class="animal-action" data-action-url="' + actionUrl + '" data-id="' + animal.id + '">' +
									'id: ' + animal.id + '<br>' +
									'name: ' + animal.name +
									'</a>';

							if (animal.tags && animal.tags.length > 0) {
								animalHTML += '<div class="animal-tags">' +
										'<strong>Tags:</strong> ' +
										animal.tags.map(function(tag) {
											return '<span class="tag">' + tag.name + '</span>';
										}).join(', ') +  // Oddelíme tagy čiarkami
										'</div>';
							} else {
								animalHTML += '<div class="animal-tags"><p>No tags available</p></div>';
							}

							animalHTML += '<div class="animal-status"><strong>Status:</strong> ' + animal.status + '</div>';
							animalHTML += '<div class="animal-category"><strong>Category:</strong> ' + animal.category.name + '</div>';
							animalHTML += '<div class="animal-category-id"><strong>Category Id:</strong> ' + animal.category.id + '</div>';

							animalHTML += '<div class="animal-image" style="max-width: 100%">' +
									(animal.photoUrls.length > 0
													? '<img src="' + animal.photoUrls[0] + '" alt="animal image">'
													: '<p>No image available</p>'
									) +
									'</div>';

							animalHTML += '</div>';

							animalContainer.append(animalHTML);
						});
					}
				},
				error: function (xhr) {
					var response = xhr.responseJSON;
					alert(response.message);
					console.log(response.data)
				}
			});
		}
	</script>

</head>

<body>
	<div n:foreach="$flashes as $flash" n:class="flash, $flash->type">{$flash->message}</div>


	{include content}

	{include scripts}
</body>
</html>
